<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Support Material - Bush Gothic</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		
	
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.min.js"></script>

		<noscript>

		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
        
    
       <style type="text/css">
          
       </style>  

	</head>
		<body>

		<!-- Header -->
			<header id="header">
				<h1>TIGS test</h1>
				<nav id="nav">
				
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="container">

					<header class="major">
						
					</header>
					
					 <div class="box alt">
                         
                         
                         

                    
                  
                         <div class="row">
                         
                             <div class="6u 12u(small)">
                    
                                
                    
                    
                                  
                                 
                                 
                                 
                                    <h2><a id="Audio">Audio</a></h2> 

                                
                                 
                



                                
                                 
<audio id="audioplayer" controls> <!-- Remove the "Controls" Attribute if you don't want the visual controls -->
</audio>

                                 
                                 
                                 
<script>
    
    var lastSong = null;
    var selection = null;
    var playlist = ["sounds-tones/0.wav", 
                    "sounds-tones/1.wav", 
                    "sounds-tones/2.wav", 
                    "sounds-tones/3.wav", 
                    "sounds-tones/4.wav"  
                    /*, 
                     "sounds/5.mp3", 
                    "sounds/6.mp3", 
                    "sounds/7.mp3", 
                    "sounds/8.mp3", 
                    "sounds/9.mp3", 
                    "sounds/10.mp3", "sounds/11.mp3", "sounds/12.mp3", "sounds/13.mp3", "sounds/14.mp3", "sounds/15.mp3", "sounds/16.mp3", "sounds/17.mp3", "sounds/18.mp3"
                    */
                   ]; // List of Songs
    
    
    var player = document.getElementById("audioplayer"); // Get Audio Element
    player.autoplay=true;
    player.addEventListener("ended", selectRandom); // Run function when song ends

    function selectRandom(){
        while(selection == lastSong){ // Repeat until different song is selected
            selection = Math.floor(Math.random() * playlist.length);
        }
        lastSong = selection; // Remember last song
        player.src = playlist[selection]; // Tell HTML the location of the new Song

    }

    selectRandom(); // Select initial song
    player.play(); // Start Song

</script>
                                 
                                 
                                 
                                 
                                
                                 
                                 
                                 
                                 
                               
                                 
                                 
                                
                                 
                                 
                                
                                 
                                 
                             </div>
	                       
                             
                             <!-- column 2 -->
                            <div class="6u 12u(small)">
                                
                                
               
                               
            /* second */
                                
                                <script>
                                
                                var app = new Vue({
  el: '#container',
  data: {
    int: null,
    currentId: 0,
    crossTime: 1000,
    audios: [
      new Audio("sounds/1.mp3"),
      new Audio("sounds/2.mp3"),
      new Audio("sounds/3.mp3"),
    ]
  },
  mounted() {
    for(item of this.audios) {
      item.volume = 0
      item.loop = true
    }
    this.audios[this.currentId].volume = 1
    this.audios[this.currentId].play()
  },
  methods: {
    playNext() {
      var self = this
      
      if (self.int) {
        window.clearInterval(self.int)
      }
      
      var preId
      if (self.currentId < self.audios.length - 1) {
        self.currentId ++
        preId = self.currentId - 1
      } else {
        self.currentId = 0
        preId = self.audios.length - 1
      }
      
      self.audios[self.currentId].currentTime = 0
      
      self.int = setInterval(function() {
        self.audios[self.currentId].play()
        if (self.audios[preId].volume > 0) {
          self.audios[preId].volume -= .01
          self.audios[self.currentId].volume += .01
        } else {
          self.audios[preId].pause()
          window.clearInterval(self.int)
          self.int = null
        }
      }, self.crossTime/100)
    }
  }
})

                                

   </script>
                                
                                
            <div id="container">
  <button @click="playNext">play next</button>
</div>                    
                                  
                                  
                                   
                           
                                   
                                   
                                   

                                </div>   
                         
					</div>

                </div>                  
         
         
			</section>

				<!-- Footer -->
			<footer id="footer">
			
			</footer>
	</body>
</html>